function adjustDomain(t){return t[0]>0?t[0]=0:t[1]<0&&(t[1]=0),t}function unionBounds(t,n){var e=t.concat(n);return t.equals([0,0])?n:n.equals([0,0])?t:[d3.min(e),d3.max(e)]}Array.prototype.equals&&console.warn("Overriding existing Array.prototype.equals. Possible causes: New API defines the method, there's a framework conflict or you've got double inclusions in your code."),Array.prototype.equals=function(t){if(!t)return!1;if(this.length!=t.length)return!1;for(var n=0,e=this.length;e>n;n++)if(this[n]instanceof Array&&t[n]instanceof Array){if(!this[n].equals(t[n]))return!1}else if(this[n]!=t[n])return!1;return!0},Object.defineProperty(Array.prototype,"equals",{enumerable:!1}),d3graphs={line:function(t,n){function e(t,n){function e(t,n){var e=[],i=[],r=[],a=[],o=function(t,n,e){a.map(function(i){i.binding(t,n,e)})},l=function(){r=e.length<i?e.map(function(t,n){return{x:e[n],y:i[n]}}):i.map(function(t,n){return{x:e[n],y:i[n]}})},u=c.append("path").attr("class","line").attr("fill","none").attr("stroke","#000").attr("stroke-width","10");void 0!==n&&u.attr("stroke",n),this.x=function(t){return void 0===t?e:(e=t,l(),o(e,i),this)},this.y=function(t){return void 0===t?i:(i=t,l(),o(e,i),this)};var d=1,f=[0,0],h=void 0,p=function(){e=[f[0]];var t=f[1]-f[0];t/=d;for(var n=0;d>n;++n)e.push(f[0]+n*t);i=e.map(h),l()};this.interpolate=function(t){if(!(t<e[0]||t>e[e.length-1])){for(var n=e.length/2,r=0,a=0;;){if(++a,t>=e[n]){if(t<e[n+1])break;r=n,n+=(e.length-n)/2}else{if(t>e[n-1]){--n;break}n-=(n-r)/2}if(0==Math.floor(n))break;if(n=Math.round(n),n==e.length){--n;break}}var o=(i[n+1]-i[n])/(e[n+1]-e[n]),s=t-e[n];return i[n]+o*s}},this.map={domain:function(t,n){return void 0===t?f:(f=[t,n],d>1&&void 0!==h&&p(),this)},intervals:function(t){return void 0===t?d:(f!=[0,0]&&void 0!==h&&p(),d=t,this)},f:function(t){return h=t,f.equals([0,0])||1==d||p(),this}},this.detail={addBinding:function(t,n){a.push({seriesName:t,binding:n})},removeBinding:function(t){a.filter(function(t){return t.seriesName!=t})}},this.bind=function(n,r){var a=void 0;return n in z&&(a=z[n]),e=a.x(),i=a.y().map(r),a.detail.addBinding(t,function(t,n,a){t instanceof Array||(t=[t]),n instanceof Array||(n=[n]);var o=n.map(r);a?(e=e.concat(t),i=i.concat(o)):(e=t,i=o),l()}),this},this.append={x:function(t){var n=e.length;e=e.concat(t);var r=e.length;if(l(),i.length>n){var a=d3.min([r-n,i.length-n]),s=e.slice(-a),u=i.slice(-a);o(s,u,!0)}return this},y:function(t){var n=i.length;i=i.concat(t);var r=i.length;if(l(),i.length>n){var a=d3.min([r-n,i.length-n]),s=e.slice(-a),u=i.slice(-a);o(s,u,!0)}return this}},this.zip=function(){return r},this.tooltipGroup=s.append("g").attr("class","graph-tooltip-selection"),this.tooltipCircle=this.tooltipGroup.append("circle").attr("fill","black"),void 0!==n&&this.tooltipCircle.attr("fill",n)}var i=[-1,-1],r=d3.line().x(function(t){return x(t.x)}).y(function(t){return b(t.y)}),a=0,o=0,s=d3.select("body").append("svg").attr("id",t),l=s.append("g").attr("class","title-box"),u=l.append("text"),c=s.append("g").attr("class","graph-body").style("z-index","0"),d=s.append("g").attr("class","axis--x"),f=s.append("g").attr("class","axis--y"),h=d3.select("body").append("div").attr("class","graph-tooltip").style("position","absolute").style("z-index","10").style("visibility","hidden"),p=d.append("text").style("text-anchor","end").attr("class","x-label").attr("fill","#000").attr("x","90%").attr("dy","-.71em").text(""),v=f.append("text").attr("transform","rotate(-90)").style("text-anchor","end").attr("class","y-label").attr("fill","#000").attr("y",6).attr("dy",".71em").text("");h.append("p");var g=!1,y=function(t){return h.style("visibility",t)},m=function(t){var n=B({x:t[0],y:t[0]}),e=[{series:"x",value:x.invert(t[0])}].concat(n);h.selectAll("p").data(e).text(function(t){return t.series+": "+t.value.toPrecision(3)}).style("visibility","inherit").exit().style("visibility","hidden").text("");for(var r=0;r<n.length;++r){var o,s,l=z[n[r].series];o=A.left+t[0],s=A.top+b(n[r].value),isNaN(s)||(l.tooltipGroup.attr("transform","translate("+o+","+s+")").style("visibility","visible"),l.tooltipCircle.attr("r",a/100))}return i=t,h};c.on("mouseover",function(){return g=!0,y("visible")}).on("mousemove",function(){var t=d3.mouse(this);return h.style("top",d3.event.pageY-10+"px").style("left",d3.event.pageX+10+"px"),m(t)}).on("mouseout",function(){g=!1;for(var t in z)if(z.hasOwnProperty(t)){var n=z[t];n.tooltipGroup.style("visibility","hidden")}return y("hidden")}).append("rect").attr("fill","white");var x=d3.scaleLinear(),b=d3.scaleLinear(),w=d3.axisBottom(),k=d3.axisLeft(),A={top:50,right:20,bottom:30,left:50};this.margin={top:function(t){return A.top=t,q(),this},right:function(t){return A.right=t,q(),this},bottom:function(t){return A.bottom=t,q(),this},left:function(t){return A.left=t,q(),this},setAll:function(t,n,e,i){return A.top=t,A.right=n,A.left=i,A.bottom=e,q(),this}};var q=function(){var t,n;t=x(0),n=b(0);var e=x.range().sort(d3.ascending),i=b.range().sort(d3.ascending);(t<e[0]||t>e[1])&&(t=0),(n<i[0]||n>i[1])&&(n=i[1]),s.attr("width",a+A.left+A.right).attr("height",o+A.top+A.bottom),l.attr("transform","translate("+(A.left+.5*a)+","+.8*A.top+")"),c.attr("transform","translate("+A.left+","+A.top+")").style("z-index","0"),c.select("rect").attr("width",a).attr("height",o),d.attr("transform","translate("+A.left+","+(n+A.top)+")"),f.attr("transform","translate("+(t+A.left)+", "+A.top+")")},B=function(t){var n=t.x,e=[],i=x.invert(n);for(var r in z)if(z.hasOwnProperty(r)){var a=z[r],o=a.interpolate(i);if(void 0===o)continue;e.push({series:r,value:o})}return e},P=!1;this.includeOrigin=function(t){return void 0===t?P:(P=t,this)},this.width=function(t){if(void 0===t)return a;if("string"==typeof t||t instanceof String)if(t=t.trim(),"%"==t[t.length-1]){var n=parseFloat(t),e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);t=n*e/100}else t=parseFloat(t);return s.attr("width",t),a=t,c.attr("transform","translate("+.05*a+","+.05*o+")"),q(),this},this.height=function(t){if(void 0===t)return o;if("string"==typeof t||t instanceof String)if(t=t.trim(),"%"==t[t.length-1]){var n=parseFloat(t),e=Math.max(document.documentElement.clientHeight,window.innerHeight||0);t=n*e/100}else t=parseFloat(t);return s.attr("height",t),o=t,c.attr("transform","translate("+.05*a+","+.05*o+")"),q(),this};var z={};this.data=function(t,n){if(void 0===t)return z;if(t in z)return z[t];var i=new e(t,n);return h.append("p"),z[t]=i,i};var N=function(){w.scale(x),k.scale(b),d.call(w),f.call(k)};return this.update=function(){var t=[0,0],e=[0,0],s=[];for(var l in z){var d=z[l],f=d3.extent(d.x()),h=d3.extent(d.y());t=unionBounds(t,f),e=unionBounds(e,h),s.push(d.zip())}P&&(t=adjustDomain(t),e=adjustDomain(e)),x.domain(t).range([0,a]),b.domain(e).range([o,0]),q(),c.selectAll("path").data(s).attr("d",r),u.text(n),N(),g&&m(i)},this.axis={x:{label:function(t){return void 0===t?p.text():(p.text(t),this)},ticks:function(t){return void 0===t?w.ticks():(w.ticks(t),this)}},y:{label:function(t){return void 0===t?v.text():(v.text(t),this)},ticks:function(t){return void 0===t?k.ticks():(k.ticks(t),this)}}},q(),this}return new e(t,n)}};